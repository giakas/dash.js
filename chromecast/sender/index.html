<!DOCTYPE html>
<html ng-app data-cast-api-enabled="true">
<head>
    <meta charset="utf-8"/>
    <title>Dash.js Chromecast Sender</title>
    <meta name="description" content="" />
    <link rel="icon" type="image/png" href="http://dashpg.com/w/2012/09/dashif.ico" />

    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-glyphicons.css">
    <link rel="stylesheet" href="../../app/css/css3-github-ribbon.css">

    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/js/bootstrap.min.js"></script>

    <script src="js/caster.js"></script>
    <script src="js/CasterController.js"></script>

    <style>
        .dropdown-menu {
            max-height: 250px;
            overflow: auto;
        }

        .dropdown-menu li {
            cursor: pointer;
            cursor: hand;
        }

        h3 {
            margin-top: 0px;
        }
    </style>

    <body ng-controller="CasterController">
        <a href="https://github.com/Dash-Industry-Forum/dash.js" class="github-ribbon">Fork me on GitHub</a>

        <div ng-switch on="castApiReady">
            <div class="alert alert-danger" ng-switch-default>
                {{errorMessage}}
            </div>

            <div ng-switch-when="true">
                <div class="container" style="padding: 15px">
                    <div class="panel">
                        <div class="input-group">
                            <div class="input-group-btn">
                                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                                    Stream <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li ng-repeat="item in availableStreams" ng-click="setStream(item)">
                                        <a>{{item.name}}</a>
                                    </li>
                                </ul>
                            </div>
                            <input type="text" class="form-control" placeholder="manifest" ng-model="selectedItem.url">
                            <span class="input-group-addon">
                                live <input type="checkbox" ng-model="selectedItem.isLive">
                            </span>
                            <span class="input-group-btn">
                                <button class="btn btn-primary" type="button" ng-click="doCast()">Cast</button>
                            </span>
                        </div>
                    </div>

                    <div class="panel" ng-show="state == 'ready' || state == 'casting'">
                        <h3 class="text-success">Receivers</h3>
                        <div class="list-group">
                            <a
                                href="#"
                                class="list-group-item"
                                ng-repeat="rec in receivers"
                                ng-click="setReceiver(rec)"
                                ng-class="{active:isReceiverSelected(rec)}">
                                {{rec.name}}
                            </a>
                        </div>
                    </div>

                    <div class="panel" ng-show="state == 'casting'">
                        <h3 class="text-primary">Controls</h3>

                        <div class="row">
                            <div class="col-lg-2">
                                <button type="button" class="btn btn-danger" ng-click="stopCast()">
                                    <span class="glyphicon glyphicon-stop"></span>
                                </button>

                                <button type="button" class="btn btn-info" ng-click="togglePlayback()">
                                    <span class="glyphicon glyphicon-play" ng-show="!playing"></span>
                                    <span class="glyphicon glyphicon-pause" ng-show="playing"></span>
                                </button>
                            </div>

                            <div class="col-lg-5">
                                <button type="button" class="btn btn-warning" style="float: left" ng-click="toggleMute()">
                                    <span class="glyphicon glyphicon-music" ng-show="!muted"></span>
                                    <span class="glyphicon glyphicon-volume-off" ng-show="muted"></span>
                                </button>

                                <div class="input-group col-lg-3">
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-warning" ng-click="turnVolumeDown()">
                                            <span class="glyphicon glyphicon-volume-down"></span>
                                        </button>
                                    </span>

                                    <input
                                        type="text"
                                        class="form-control"
                                        style="width: 65px; text-align: center;"
                                        disabled
                                        value="{{volume * 100|number:0}}%">

                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-warning" ng-click="turnVolumeUp()">
                                            <span class="glyphicon glyphicon-volume-up"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
